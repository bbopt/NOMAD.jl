<!DOCTYPE html>
<html lang="en"><head><meta charset="UTF-8"/><meta name="viewport" content="width=device-width, initial-scale=1.0"/><title>Parameters · NOMAD.jl</title><script data-outdated-warner src="../assets/warner.js"></script><link href="https://cdnjs.cloudflare.com/ajax/libs/lato-font/3.0.0/css/lato-font.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/juliamono/0.045/juliamono.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/fontawesome.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/solid.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/brands.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.13.24/katex.min.css" rel="stylesheet" type="text/css"/><script>documenterBaseURL=".."</script><script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.6/require.min.js" data-main="../assets/documenter.js"></script><script src="../siteinfo.js"></script><script src="../../versions.js"></script><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/documenter-dark.css" data-theme-name="documenter-dark" data-theme-primary-dark/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/documenter-light.css" data-theme-name="documenter-light" data-theme-primary/><script src="../assets/themeswap.js"></script></head><body><div id="documenter"><nav class="docs-sidebar"><div class="docs-package-name"><span class="docs-autofit"><a href="../">NOMAD.jl</a></span></div><form class="docs-search" action="../search/"><input class="docs-search-query" id="documenter-search-query" name="q" type="text" placeholder="Search docs"/></form><ul class="docs-menu"><li><a class="tocitem" href="../">Home</a></li><li class="is-active"><a class="tocitem" href>Parameters</a></li><li><a class="tocitem" href="../run_nomad/">Run Optimization</a></li><li><a class="tocitem" href="../tutorial/">Tutorial</a></li></ul><div class="docs-version-selector field has-addons"><div class="control"><span class="docs-label button is-static is-size-7">Version</span></div><div class="docs-selector control is-expanded"><div class="select is-fullwidth is-size-7"><select id="documenter-version-selector"></select></div></div></div></nav><div class="docs-main"><header class="docs-navbar"><nav class="breadcrumb"><ul class="is-hidden-mobile"><li class="is-active"><a href>Parameters</a></li></ul><ul class="is-hidden-tablet"><li class="is-active"><a href>Parameters</a></li></ul></nav><div class="docs-right"><a class="docs-edit-link" href="https://github.com/bbopt/NOMAD.jl/blob/master/docs/src/nomadProblem.md" title="Edit on GitHub"><span class="docs-icon fab"></span><span class="docs-label is-hidden-touch">Edit on GitHub</span></a><a class="docs-settings-button fas fa-cog" id="documenter-settings-button" href="#" title="Settings"></a><a class="docs-sidebar-button fa fa-bars is-hidden-desktop" id="documenter-sidebar-button" href="#"></a></div></header><article class="content" id="documenter-page"><h1 id="Parameters-setting"><a class="docs-heading-anchor" href="#Parameters-setting">Parameters setting</a><a id="Parameters-setting-1"></a><a class="docs-heading-anchor-permalink" href="#Parameters-setting" title="Permalink"></a></h1><p>The settings of a NOMAD optimization process must be entered in an object of the type described below.</p><article class="docstring"><header><a class="docstring-binding" id="NOMAD.NomadProblem" href="#NOMAD.NomadProblem"><code>NOMAD.NomadProblem</code></a> — <span class="docstring-category">Type</span></header><section><div><pre><code class="language-julia hljs">NomadProblem(nb_inputs::Int, nb_outputs::Int, output_types::Vector{String}, eval_bb::Function;
             input_types::Vector{String} = [&quot;R&quot; for i in 1:nb_inputs],
             granularity::Vector{Float64} = zeros(Float64, nb_inputs),
             lower_bound::Vector{Float64} = -Inf * ones(Float64, nb_inputs),
             upper_bound::Vector{Float64} = Inf * ones(Float64, nb_inputs),
             A::Union{Nothing, Matrix{Float64}} = nothing,
             b::Union{Nothing, Vector{Float64}} = nothing,
             min_mesh_size::Vector{Float64} = zeros(Float64, nb_inputs),
             b::Union{Nothing, Vector{Float64}} = nothing,
             initial_mesh_size::Vector{Float64} = Float64[])</code></pre><p>Struct containing the main information needed to solve a blackbox problem by the Nomad Software.</p><p><strong><strong>Attributes</strong>:</strong></p><ul><li><code>nb_inputs::Int</code>:</li></ul><p>Number of inputs of the blackbox. Is required to be &gt; 0.</p><p>No default, needs to be set.</p><ul><li><code>nb_outputs::Int</code>:</li></ul><p>Number of outputs of the blackbox. Is required to be &gt; 0.</p><p>No default, needs to be set.</p><ul><li><code>output_types::Vector{String}</code>:</li></ul><p>A vector containing <em>String</em> objects that define the types of outputs returned by <code>eval_bb</code> (the order is important) :</p><table><tr><th style="text-align: left">String</th><th style="text-align: left">Output type</th></tr><tr><td style="text-align: left"><code>&quot;OBJ&quot;</code></td><td style="text-align: left">objective value to be minimized</td></tr><tr><td style="text-align: left"><code>&quot;PB&quot;</code></td><td style="text-align: left">progressive barrier constraint</td></tr><tr><td style="text-align: left"><code>&quot;EB&quot;</code></td><td style="text-align: left">extreme barrier constraint</td></tr></table><p>No default value, needs to be set.</p><ul><li><code>eval_bb::Function</code>:</li></ul><p>A function of the form :</p><pre><code class="language-julia hljs">    (success, count_eval, bb_outputs) = eval(x::Vector{Float64})</code></pre><p><code>bb_outputs</code> being a <code>Vector{Float64}</code> containing the values of objective function and constraints for a given input vector <code>x</code>. NOMAD will seek to minimize the objective function and keeping constraints inferior to 0.</p><p><code>success</code> is a <em>Bool</em> set to <code>false</code> if the evaluation failed.</p><p><code>count_eval</code> is a <em>Bool</em> equal to <code>true</code> if the blackbox evaluation counting has to be incremented.</p><ul><li><code>input_types::Vector{String}</code>:</li></ul><p>A vector containing <code>String</code> objects that define the types of inputs to be given to eval_bb (the order is important) :</p><table><tr><th style="text-align: left">String</th><th style="text-align: left">Input type</th></tr><tr><td style="text-align: left"><code>&quot;R&quot;</code></td><td style="text-align: left">Real/Continuous</td></tr><tr><td style="text-align: left"><code>&quot;B&quot;</code></td><td style="text-align: left">Binary</td></tr><tr><td style="text-align: left"><code>&quot;I&quot;</code></td><td style="text-align: left">Integer</td></tr></table><p>all R by default.</p><ul><li><code>granularity::Vector{Float64}</code>:</li></ul><p>The granularity of input variables, that is to say the minimum variation authorized for these variables. A granularity of 0 corresponds to a real variable.</p><p>By default, <code>0</code> for real variables, <code>1</code> for integer and binary ones.</p><ul><li><code>min_mesh_size::Vector{Float64}</code>:</li></ul><p>The minimum mesh size to reach allowed by each input variable. When a variable decreases below the threshold, the algorithm stops.</p><p>By default, <code>0</code> (which corresponds to the Nomad software tolerance).</p><ul><li><code>initial_mesh_size::Vector{Float64}</code>:</li></ul><p>The initial mesh size set for each input variable. Can be adjusted if the granularity is set.</p><p>Empty by default.</p><ul><li><code>lower_bound::Vector{Float64}</code>:</li></ul><p>Lower bound for each coordinate of the blackbox input. <code>-Inf * ones(Float64, nb_inputs)</code>, by default.</p><ul><li><code>upper_bound::Vector{Float64}</code>:</li></ul><p>Upper bound for each coordinate of the blackbox input.</p><p><code>Inf * ones(Float64, nb_inputs)</code>, by default.</p><ul><li><code>A::Union{Nothing, Matrix{Float64}}</code>:</li></ul><p>Matrix A in the potential equality constraints Ax = b, where x are the inputs of the blackbox. A must have more columns than lines. If defined, the granularity parameters should be set to default value, i.e. 0.</p><p><code>nothing</code>, by default.</p><ul><li><code>b::Union{Nothing, Vector{Float64}}</code>:</li></ul><p>Vector b in the potential equality constraints Ax=b, where x are the inputs of the blackbox. b must be defined when A is defined. In this case, dimensions must match.</p><p><code>nothing</code>, by default.</p><ul><li><code>options::NomadOptions</code></li></ul><p>Nomad options that can be set before running the optimization process.</p><p>-&gt; <code>cache_size_max::Int</code></p><p>Maximum number of points stored in the cache.</p><p>Inf` by default.</p><p>-&gt; <code>display_degree::Int</code>:</p><p>Integer between 0 and 3 that sets the level of display.</p><p>-&gt; <code>display_all_eval::Bool</code>:</p><p>If false, only evaluations that allow to improve the current state are displayed.</p><p><code>false</code> by default.</p><p>-&gt; <code>display_infeasible::Bool</code>:</p><p>If true, display best infeasible values reached by Nomad until the current step.</p><p><code>false</code> by default.</p><p>-&gt; <code>display_unsuccessful::Bool</code>:</p><p>If true, display evaluations that are unsuccessful.</p><p><code>false</code> by default.</p><p>-&gt; <code>display_stats::Bool</code>:</p><p>A vector containing <code>String</code> objects that define the statistics to display when the algorithm is running.</p><table><tr><th style="text-align: left">String</th><th style="text-align: left">Display Statistics Arguments</th></tr><tr><td style="text-align: left"><code>&quot;BBE&quot;</code></td><td style="text-align: left">Blackbox evaluations</td></tr><tr><td style="text-align: left"><code>&quot;BBO&quot;</code></td><td style="text-align: left">Blackbox outputs</td></tr><tr><td style="text-align: left"><code>&quot;CACHE_HITS&quot;</code></td><td style="text-align: left">Cache hits</td></tr><tr><td style="text-align: left"><code>&quot;CACHE_SIZE&quot;</code></td><td style="text-align: left">Cache size</td></tr><tr><td style="text-align: left"><code>&quot;CONS_H&quot;</code></td><td style="text-align: left">Infeasibility (h) value</td></tr><tr><td style="text-align: left"><code>&quot;EVAL&quot;</code></td><td style="text-align: left">Evaluations (includes cache hits)</td></tr><tr><td style="text-align: left"><code>&quot;FEAS_BBE&quot;</code></td><td style="text-align: left">Feasible blackbox evaluations</td></tr><tr><td style="text-align: left"><code>&quot;GEN_STEP&quot;</code></td><td style="text-align: left">Name of the step that generated</td></tr><tr><td style="text-align: left"></td><td style="text-align: left">this point to evaluate</td></tr><tr><td style="text-align: left"><code>&quot;H_MAX&quot;</code></td><td style="text-align: left">Max infeasibility (h) acceptable</td></tr><tr><td style="text-align: left"><code>&quot;INF_BBE&quot;</code></td><td style="text-align: left">Infeasible blackbox evaluations</td></tr><tr><td style="text-align: left"><code>&quot;ITER_NUM&quot;</code></td><td style="text-align: left">Iteration number in which this</td></tr><tr><td style="text-align: left"></td><td style="text-align: left">evaluation was done</td></tr><tr><td style="text-align: left"><code>&quot;MESH_INDEX&quot;</code></td><td style="text-align: left">Mesh index</td></tr><tr><td style="text-align: left"><code>&quot;OBJ&quot;</code></td><td style="text-align: left">Objective function value</td></tr><tr><td style="text-align: left"><code>&quot;PHASE_ONE_SUCC&quot;</code></td><td style="text-align: left">Success evaluations during phase one</td></tr><tr><td style="text-align: left"></td><td style="text-align: left">phase</td></tr><tr><td style="text-align: left"><code>&quot;SGTE&quot;</code></td><td style="text-align: left">Number of surrogate evaluations since</td></tr><tr><td style="text-align: left"></td><td style="text-align: left">last reset</td></tr><tr><td style="text-align: left"><code>&quot;SOL&quot;</code></td><td style="text-align: left">Current feasible iterate (displayed</td></tr><tr><td style="text-align: left"></td><td style="text-align: left">in ())</td></tr><tr><td style="text-align: left"><code>&quot;SUCCESS_TYPE&quot;</code></td><td style="text-align: left">Success type for this evaluation,</td></tr><tr><td style="text-align: left"></td><td style="text-align: left">compared with the frame center</td></tr><tr><td style="text-align: left"><code>&quot;TIME&quot;</code></td><td style="text-align: left">Real time in seconds</td></tr><tr><td style="text-align: left"><code>&quot;TOTAL_SGTE&quot;</code></td><td style="text-align: left">Total number of surrogate evaluations</td></tr></table><p>Empty by default.</p><p>-&gt; <code>max_bb_eval::Int</code>:</p><p>Maximum of calls to eval_bb allowed. Must be positive.</p><p><code>20000</code> by default.</p><p>-&gt; <code>sgtelib_model_max_eval::Int</code>:</p><p>Maximum number of calls to surrogate models for each optimization of surrogate problem allowed. Must be positive.</p><p><code>1000</code> by default.</p><p>-&gt; <code>eval_opportunistic::Bool</code></p><p>If true, the algorithm performs an opportunistic strategy at each iteration.</p><p><code>true</code> by default.</p><p>-&gt; <code>eval_use_cache::Bool</code>:</p><p>If true, the algorithm only evaluates one time a given input. Avoids to recalculate a blackbox value if this last one has already be computed.</p><p><code>true</code> by default.</p><p>-&gt; <code>eval_sort_type::String</code>:</p><p>Order points before evaluation according to one of the following strategies</p><table><tr><th style="text-align: left">String</th><th style="text-align: left">Eval Sort strategy</th></tr><tr><td style="text-align: left"><code>&quot;DIR_LAST_SUCCESS&quot;</code></td><td style="text-align: left">Use last success direction</td></tr><tr><td style="text-align: left"><code>&quot;LEXICOGRAPHICAL&quot;</code></td><td style="text-align: left">Use lexicographical ordering (coordinates)</td></tr><tr><td style="text-align: left"><code>&quot;RANDOM&quot;</code></td><td style="text-align: left">Do not sort</td></tr><tr><td style="text-align: left"><code>&quot;QUADRATIC_MODEL&quot;</code></td><td style="text-align: left">Use quadratic models</td></tr></table><p><code>&quot;QUADRATIC_MODEL&quot;</code> by default.</p><p>-&gt; <code>h_max_0::Float64</code>:</p><p>Initial value of the barrier threshold for progressive barrier (PB). Must be positive.</p><p><code>Inf</code> by default.</p><p>-&gt; <code>direction_type::String</code>:</p><p>Direction type for Mads poll. The following direction types are available</p><table><tr><th style="text-align: left">String</th><th style="text-align: left">Direction type</th></tr><tr><td style="text-align: left"><code>&quot;ORTHO 2N&quot;</code></td><td style="text-align: left">OrthoMads with 2n directions</td></tr><tr><td style="text-align: left"><code>&quot;ORTHO N+1 NEG&quot;</code></td><td style="text-align: left">OrthoMads with n+1 directions. The (n+1)e</td></tr><tr><td style="text-align: left"></td><td style="text-align: left">is the negative sum of the n first.</td></tr><tr><td style="text-align: left"><code>&quot;ORTHO N+1 QUAD&quot;</code></td><td style="text-align: left">OrthoMads with n+1 directions. The (n+1)e</td></tr><tr><td style="text-align: left"></td><td style="text-align: left">is found by solving a quadratic subproblem</td></tr><tr><td style="text-align: left"><code>&quot;N+1 UNI&quot;</code></td><td style="text-align: left">n+1 uniform distribution of directions</td></tr><tr><td style="text-align: left"><code>&quot;SINGLE&quot;</code></td><td style="text-align: left">Single direction</td></tr><tr><td style="text-align: left"><code>&quot;DOUBLE&quot;</code></td><td style="text-align: left">Two opposed directions</td></tr></table><p>Empty by default (the NOMAD software adopts a <code>&quot;ORTHO N+1 QUAD&quot;</code> strategy by default).</p><p>-&gt; <code>direction_type_secondary_poll::String</code></p><p>Direction type for secondary Mads poll for the progressive barrier (PB). The same direction types than <code>direction_type</code> are available.</p><p>Empty by default (by default, the NOMAD software adopts a <code>&quot;DOUBLE&quot;</code> strategy if <code>direction_type</code> is set to <code>&quot;ORTHO 2N&quot;</code> or <code>&quot;ORTHO N+1&quot;</code> or a <code>&quot;SINGLE&quot;</code> strategy otherwise).</p><p>-&gt; <code>anisotropic_mesh::Bool</code>:</p><p>Use anisotropic mesh to generate directions for MADS.</p><p><code>true</code> by default.</p><p>-&gt; <code>anisotropy_factor::Float64</code>:</p><p>The MADS anisotropy factor for mesh size change. Must be strictly positive.</p><p><code>0.1</code> by default.</p><p>-&gt; <code>lh_search::Tuple{Int, Int}</code>:</p><p>LH search parameters.</p><p><code>lh_search[1]</code> is the <code>lh_search_init</code> parameter, i.e. the number of initial search points performed with Latin-Hypercube method.</p><p><code>0</code> by default.</p><p><code>lh_search[2]</code> is the  <code>lh_search_iter</code> parameter, i.e. the number of search points performed at each iteration with Latin-Hypercube method.</p><p><code>0</code> by default.</p><p>-&gt; <code>quad_model_search::Bool</code>:</p><p>If true, the algorithm executes a quadratic model search strategy at each iteration. Deactivated when the number of variables is greater than 50.</p><p><code>true</code> by default.</p><p>-&gt; <code>sgtelib_search::Bool</code>:</p><p>If true, the algorithm executes a model search strategy using Sgtelib at each iteration. Deactivated when the number of variables is greater than 50.</p><p><code>false</code> by default.</p><p>-&gt; <code>speculative_search::Bool</code>:</p><p>If true, the algorithm executes a speculative search strategy at each iteration.</p><p><code>true</code> by default.</p><p>-&gt; <code>speculative_search_base_factor::Float64</code>:</p><p>The factor distance to the current incumbent for the MADS speculative search. Must be strictly superior to 1.</p><p><code>4.0</code> by default.</p><p>-&gt; <code>speculative_search_max::Int</code>:</p><p>Number of points to generate using the Mads speculative search (when opportunistic strategy). Must be positive.</p><p><code>1</code> by default.</p><p>-&gt; <code>nm_search::Bool</code>:</p><p>If true, the algorithm executes a Nelder-Mead search strategy at each iteration.</p><p><code>true</code> by default.</p><p>-&gt; <code>nm_delta_e::Float64</code>:</p><p>The expansion parameter of the Nelder-Mead search. Must be &gt; 1.</p><p><code>2.0</code> by default.</p><p>-&gt; <code>nm_delta_ic::Float64</code>:</p><p>The inside contraction parameter of the Nelder-Mead search. Must be strictly comprised between -1 and 0.</p><p><code>-0.5</code> by default.</p><p>-&gt; <code>nm_delta_oc::Float64</code>:</p><p>The outside contraction parameter of the Nelder-Mead search. Must be strictly comprised between 0 and 1.</p><p><code>0.5</code> by default.</p><p>-&gt; <code>nm_gamma::Float64</code>:</p><p>The shrink parameter of the Nelder-Mead search. Must be strictly comprised between 0 and 1.</p><p><code>0.5</code> by default.</p><p>-&gt; <code>nm_search_rank_eps::Float64</code>:</p><p>The tolerance parameter on the rank of the initial simplex built in the Nelder-Mead search. Must be strictly positive.</p><p><code>0.01</code> by default.</p><p>-&gt; <code>nm_search_max_trial_pts_nfactor::Int</code>:</p><p>Nelder-Mead search stops when <code>nm_search_max_trial_pts_nfactor</code> * n evaluations are reached, n being the number of variables of the problem.</p><p><code>80</code> by default.</p><p>-&gt; <code>nm_search_stop_on_success::Bool</code>:</p><p>If true, the nm_search strategy stops opportunistically (as soon as a better point is found).</p><p><code>false</code> by default.</p><p>-&gt; <code>vns_mads_search::Bool</code>:</p><p>If true, the algorithm executes a Variable Neighbourhoold search strategy at each iteration.</p><p><code>false</code> by default.</p><p>-&gt; <code>vns_mads_search_max_trial_pts_nfactor::Int</code>:</p><p>The VNS strategy, when triggered, stops when this parameter is reached.</p><p><code>100</code> by default.</p><p>-&gt; <code>vns_mads_search_trigger::Float64</code></p><p>Maximum desired ratio of VNS blackbox evaluations over the total number of blackbox evaluations. When 0, the VNS search is never executed; when 1, a search is launched at each iteration.</p><p><code>0.75</code> by default.</p><p>-&gt; <code>stop_if_feasible::Bool</code>:</p><p>Stop algorithm as soon as a feasible solution is found.</p><p><code>false</code> by default.</p><p>-&gt; <code>max_time::Union{Nothing, Int}</code>:</p><p>If defined, maximum clock time (in seconds) execution of the algorithm.</p><p><code>false</code> by default.</p><p>-&gt; <code>linear_converter::String</code>:</p><p>The type of converter to deal with linear equality constraints. Can be <code>SVD</code> or <code>QR</code>.</p><p><code>SVD</code> by default.</p><p>-&gt; <code>linear_constraints_atol::Float64</code>:</p><p>The tolerance accuracy that x0 must satisfy, when there are linear equality constraints, i.e. A * x0 = b.</p><p><code>0</code> by default.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/bbopt/NOMAD.jl/blob/03aced6a1ef0ce2713bc58417a0e62fd97fe860a/src/core.jl#L238-L648">source</a></section></article></article><nav class="docs-footer"><a class="docs-footer-prevpage" href="../">« Home</a><a class="docs-footer-nextpage" href="../run_nomad/">Run Optimization »</a><div class="flexbox-break"></div><p class="footer-message">Powered by <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> and the <a href="https://julialang.org/">Julia Programming Language</a>.</p></nav></div><div class="modal" id="documenter-settings"><div class="modal-background"></div><div class="modal-card"><header class="modal-card-head"><p class="modal-card-title">Settings</p><button class="delete"></button></header><section class="modal-card-body"><p><label class="label">Theme</label><div class="select"><select id="documenter-themepicker"><option value="documenter-light">documenter-light</option><option value="documenter-dark">documenter-dark</option></select></div></p><hr/><p>This document was generated with <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> version 0.27.23 on <span class="colophon-date" title="Tuesday 30 August 2022 21:17">Tuesday 30 August 2022</span>. Using Julia version 1.8.0.</p></section><footer class="modal-card-foot"></footer></div></div></div></body></html>
